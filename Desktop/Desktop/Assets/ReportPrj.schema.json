{
  "$schema": "http://json-schema.org/draft-2020-12/schema#",
  "title": "Adacta Reports Shopping Bag",
  "description": "Adacta Reports Shopping Bag project file.",
  "type": "object",
  "properties": {
    "Version": {
      "format": "regex",
      "minLength": 7,
      "maxLength": 11,
      "pattern": "^[0-9]{1,2}\\.[0-9]{1,2}\\.[0-9]{1,2}\\.[0-9]{1,2}$",
      "type": "string"
    },
    "ProjectName": {
      "type": "string",
      "minLength": 1,
      "maxLength": 100
    },
    "ProjectCode": {
      "format": "regex",
      "minLength": 6,
      "maxLength": 7,
      "pattern": "^[0-9]{2}\\.[0-9]{3}[A-Z]?$",
      "type": "string"
    },
    "Products": {
      "type": "array",
      "minItems": 1,
      "items": {
        "$ref": "#/$defs/Product"
      }
    }
  },
  "required": [
    "Version",
    "ProjectName",
    "ProjectCode",
    "Products"
  ],
  "additionalProperties": false,
  "$defs": {
    "Product": {
      "type": "object",
      "properties": {
        "Code": {
          "type": "string",
          "pattern": "^[A-Z0-9]{3}$"
        },
        "Name": {
          "type": "string",
          "minLength": 1,
          "maxLength": 100
        },
        "Category": {
          "type": "string"
        },
        "Manufacturer": {
          "type": "string"
        },
        "Format": {
          "type": "string"
        },
        "EAN": {
          "type": "string"
        },
        "Batch": {
          "type": "string"
        },
        "ProductionDate": {
          "type": "string"
        },
        "ExpiryDate": {
          "type": "string"
        },
        "ProductionFacility": {
          "type": "string"
        },
        "Ingredients": {
          "type": "string"
        },
        "ProductPhotos": {
          "type": "array",
          "minItems": 1,
          "maxItems": 5,
          "items": {
            "$ref": "#/$defs/ProductPhoto"
          }
        },
        "Classification": {
          "$ref": "#/$defs/ProductClassification"
        }
      },
      "required": [
        "Code",
        "Name",
        "Category",
        "Manufacturer",
        "Format",
        "EAN",
        "Batch",
        "ProductionDate",
        "ExpiryDate",
        "ProductionFacility",
        "Ingredients",
        "ProductPhotos",
        "Classification"
      ],
      "additionalProperties": false
    },
    "ProductPhoto": {
      "type": "object",
      "properties": {
        "Type": {
          "type": "string"
        },
        "PhotoUrl": {
          "type": "string"
        }
      },
      "required": [
        "Type",
        "PhotoUrl"
      ],
      "additionalProperties": false
    },
    "ProductClassification": {
      "type": "integer",
      "enum": [
        0,
        1,
        2
      ]
    }
  }
}