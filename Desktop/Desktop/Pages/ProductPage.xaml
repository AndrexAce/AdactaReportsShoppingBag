<Page
    x:Class="AdactaInternational.AdactaReportsShoppingBag.Desktop.Pages.ProductPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:AdactaInternational.AdactaReportsShoppingBag.Model.Soap.Response"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <ScrollViewer>
        <StackPanel Orientation="Vertical" Spacing="16" Padding="24">
            <TextBlock Text="Informazioni prodotto" Style="{StaticResource TitleTextBlockStyle}" />

            <Grid ColumnSpacing="12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="150" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                
                <TextBox Grid.Column="0" Header="Codice prodotto" 
                         Text="{x:Bind CurrentProduct.Code, Mode=OneTime}"
                         IsReadOnly="True" />

                <TextBox Grid.Column="1" Header="Nome prodotto" 
                         Text="{x:Bind CurrentProduct.Name, Mode=TwoWay}"
                         PlaceholderText="Nome completo del prodotto"
                         MaxLength="100" />

                <TextBox Grid.Column="2" Header="Categoria" 
                         Text="{x:Bind CurrentProduct.Category, Mode=TwoWay}"
                         PlaceholderText="Categoria del prodotto" />
            </Grid>


            <Grid ColumnSpacing="12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <TextBox Grid.Column="0" Header="Produttore" 
                         Text="{x:Bind CurrentProduct.Manufacturer, Mode=TwoWay}"
                         PlaceholderText="Nome del produttore" />

                <TextBox Grid.Column="1" Header="Formato" 
                         Text="{x:Bind CurrentProduct.Format, Mode=TwoWay}"
                         PlaceholderText="Formato del prodotto" />

                <TextBox Grid.Column="2" Header="EAN" 
                         Text="{x:Bind CurrentProduct.EAN, Mode=TwoWay}"
                         PlaceholderText="Codice a barre EAN del prodotto" />

                <TextBox Grid.Column="3" Header="Lotto" 
                         Text="{x:Bind CurrentProduct.Batch, Mode=TwoWay}"
                         PlaceholderText="Numero di lotto del prodotto" />
            </Grid>

            <Grid ColumnSpacing="12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <TextBox Grid.Column="0" Header="Data di produzione" 
                         Text="{x:Bind CurrentProduct.ProductionDate, Mode=TwoWay}"
                         PlaceholderText="Data di produzione del prodotto" />

                <TextBox Grid.Column="1" Header="Data di scadenza" 
                         Text="{x:Bind CurrentProduct.ExpiryDate, Mode=TwoWay}" />

                <TextBox Grid.Column="2" Header="Stabilimento di produzione" 
                         Text="{x:Bind CurrentProduct.ProductionFacility, Mode=TwoWay}"
                         PlaceholderText="Luogo di produzione del prodotto" />
            </Grid>

            <TextBox Header="Ingredienti" 
                         Text="{x:Bind CurrentProduct.Ingredients, Mode=TwoWay}"
                         TextWrapping="Wrap"
                         AcceptsReturn="True"
                         MinHeight="100"
                         PlaceholderText="Elenco ingredienti del prodotto" />

            <TextBlock Text="Foto prodotto" Style="{StaticResource TitleTextBlockStyle}" />

                <ListView ItemsSource="{x:Bind CurrentProduct.ProductPhotos, Mode=OneWay}"
                          SelectionMode="None">
                <ListView.ItemTemplate>
                    <DataTemplate x:DataType="local:ProductPhoto">
                        <Grid Margin="0,12,0,0" ColumnSpacing="12">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <TextBox Grid.Column="0"
                                     Header="Tipo" 
                                     Text="{x:Bind Type, Mode=TwoWay}" />

                            <TextBox Grid.Column="1"
                                     Header="URL Foto"
                                     Text="{x:Bind PhotoUrl, Mode=TwoWay}" />

                            <Button Grid.Column="2"
                                    Click="Button_Click"
                                    Tag="{x:Bind PhotoUrl, Mode=TwoWay}">
                                <StackPanel Orientation="Horizontal" Spacing="12">
                                    <FontIcon Glyph="&#xe72d;" />
                                    <TextBlock Text="Apri" />
                                </StackPanel>
                            </Button>
                        </Grid>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </StackPanel>
    </ScrollViewer>
</Page>
